<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
	<!--
<link rel="stylesheet" type="text/css" href="../css/issStyle1.css">
<script type="text/javascript" src="../css/issStyle.js"></script>
-->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/foundation-sites@6.7.4/dist/css/foundation.min.css"
		crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/foundation-sites@6.7.4/dist/js/foundation.min.js"
		crossorigin="anonymous"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="./commons/resources/styles/templateISS.css">
	<link rel="stylesheet" type="text/css" href="./commons/resources/styles/main.css">
	<link rel="stylesheet" type="text/css" href="./commons/resources/styles/navbar.css">
	<link rel="stylesheet" type="text/css" href="./commons/resources/styles/table.css">
	<link rel="stylesheet" type="text/css" href="./commons/resources/styles/code.css">
	<!-- <script type="text/javascript" src="./commons/resources/scripts/myScripts.js"></script> -->
	<style type="text/css">
		body {
			margin-left: 30px;
			margin-right: 30px;
		}

		;

		P {
			font-family: Tahoma;
			font-size: 10pt;
		}

		;

		a,
		a:visited,
		a:active,
		a:link,
		a:hover {
			text-decoration: underline;
			color: #545454;
			background-color: transparent;
			font-size: 93%;
		}

		a:hover {
			background-color: #cccccc;
		}


		hr {
			clear: both;
			height: 1px;
			color: #242424;
			background-color: transparent;
		}

		h1,
		h2,
		h3 {
			color: #242424;
			clear: left;
			font: 100% Tahoma, Helvetica, Arial, sans-serif;
			margin-bottom: 0.5em;
			padding-top: 0.5em;
			border-radius: 10px;
			padding: 5px;
		}

		top {
			width: 100%;
		}


		#i {
			color: #ff1010;
		}

		tt {
			font-family: "Arial";
			font-size: 90%;
			color: #006600;
		}

		em {
			font-family: "Arial";
			font-size: 80%;
			font-weight: bold;
			border-style: solid;
			border-color: #abe876;
			color: #1632cc;
		}

		bc {
			font-family: "Arial";
			font-size: 90%;
			font-weight: bold;
			color: #990000;
			background-color: #fcf8c7;
		}

		ks {
			font-family: "Arial";
			font-weight: bold;
			color: #0000CD;
			font-size: 90%;
		}

		kc {
			font-family: "Arial";
			font-weight: bold;
			color: #008000;
			font-size: 90%;
		}

		pre {
			font-family: "Consolas";
			font-size: 85%;
			background-color: #f5f5f5;
			border: 1.5px solid silver;
			padding: 5px;
		}

		m {
			font-family: "Helvetica";
			line-height: 100%;
			font-size: 75%;
		}

		div.body {

			font-size: 18px;
		}

		k {
			color: #990000;
			font-weight: bold;
			font-size: 90%;
		}

		h1 {
			font-size: 150%;
			background-color: #b2c0ff;
			padding: 10px;
		}

		h2 {
			background-color: #9ed8ff;
			font-size: 130%;
		}

		h3 {
			background-color: #e6ccff;
			font-size: 100%;
		}

		h4 {
			background-color: #ccffcc;
			font-size: 100%;
			width: 95%;
			border-radius: 5px;
			padding: 2px;
		}

		h5 {
			background-color: #d5ffb0;
			font-size: 100%;

		}

		div.req {
			background-color: #d9ffb3;
			font-size: 18px;
			width: 700px;
			border: 3px solid green;
			padding: 15px;
			margin: 10px;
		}

		div.remark {
			background-color: #E3F2FD;
			border: 1.5px solid #d5f2ed;
			padding: 15px;
			margin: 10px;
			border-radius: 25px;
		}

		table,
		th,
		td {
			border: 1px solid black;
			border-collapse: collapse;
		}

		ol,
		ul,
		li {
			margin: 0;
			margin-left: 10px;
			padding: 0;
			padding-bottom: 5px;
		}

		table,
		th,
		td {
			border: 1px solid black;
		}

		img {
			border: 1.5px solid #d5f2ed
		}

		a,
		a:visited,
		a:active,
		a:link,
		a:hover {
			text-decoration: underline;
			color: #545454;
			background-color: transparent;
		}

		div.wrapdesc {
			width: 90%;
			margin: auto;
		}

		div.imagedesc {
			width: 85%;
			margin: auto;
		}
	</style>



</head>






<title>Progetto: Produttori e Consumatore</title>
</head>

<!--
	<body onload="loadNav();">
		<div id="openButton" class="openButton" onclick="openNav(true)">&#9776; Menu</div>
		<div id="sidenav" class="sidenav">
			<a class="closeButton" href="javascript:void(0)" onclick="closeNav(true)">&times;</a>
			<a href=".README.html">ReadMe</a>
			<a class="sprint" href="../../../Sprint0/Codice/userDocs/Cold%20Storage%20Service%20-%20Natali%20V3.html">Sprint0</a>
			<a class="sprint" href="../../../Sprint1.0/Codice/userDocs/Sprint%201.0%20-%20V3.html">Sprint1.0</a>
			<a class="sprint" href="../../../Sprint1.1/Codice/userDocs/Sprint%201.1%20-%20V3.html">Sprint1.1</a>
			<a id="currentSprint" class="sprint" href="#">&#8211;&#8212; Sprint2 &#8212;&#8211;</a>
			<div class="sidenavSection">
				<a href="#Goal Sprint 2">Goal Sprint 2</a>
				<a href="#Requisiti">Requisiti</a>
				<a href="#Analisi dei Requisiti">Analisi dei Requisiti</a>
				<a href="#Analisi del Problema">Analisi del Problema</a>
				<a href="#Test Plan">Test Plan</a>
				<a href="#Progettazione">Progettazione</a>
				<a href="#Deployment">Deployment</a>
			</div>
			<p class="separator">&mdash;&mdash;&mdash;&ndash;&ndash;&mdash;&mdash;&mdash;</p>
			<a class="sprint" href="../../../Sprint3/Codice/userDoc/Sprint%203.html">Sprint3</a>
			<bottom-spacer/>
		</div>
-->

<body>
	<div id="top">
		<h1><b>LABORATORIO DI INGEGNERIA DEI SISTEMI SOFTWARE</b>
			<font size="5"></font>
		</h1>
	</div>

	<div class="body">
		<h2><b>Introduction</b></h2>

		<div class="remark">Andiamo a costruire un sistema che emuli una partita a ping pong.</div>

		<h2><b>Requirements</b></h2>

		<div class="remark"> Costruire un sistema software distribuito costituito da 2 entità Ping e Pong, che
			emulino una partita a ping pong. La battuta iniziale è effettuata da Ping.<br>
			La dislocazione delle due componenti è su nodi di elaborazione diversi.

		</div>


		<h2><b>Requirement analysis</b></h2>
		<div class="remark">
			<ul>
				<li>
					Ping e Pong rappresentano gli unici due tipi di entità interagenti necessari
					all'interno del sistema.
				</li>
				<li>
					I requisiti non stabiliscono come l’informazione di invio della palla debba essere trasmessa e
					ricevuta.
				</li>
				<li>
					Le modalità di scambio di informazioni fra Ping e Pong non sono stabilite:
					in particolare, non si precisa se si debbano prevedere messaggi sincroni o asincroni per comunicare
					l'invio di una pallina.
				</li>
				<!-- <li>
					Il formato dei messaggi non è specificato: sarà necessario
				</li> -->
			</ul>
		</div>

	</div>

	<h2><b>Problem analysis</b></h2>
	<div class="remark">
		<h3><b>Architettura logica</b></h3>
		Stando all'analisi dei requisiti, l'architettura dovrà necessariamente prevedere una modalità di invio di
		messaggi fra le due entità Ping e Pong.
		Sulla base di questo, l'architettura logica del sistema dovrà essere organizzata in modo che Ping e Pong siano
		due entità pari, e che la comunicazione avvenga peer-to-peer (p2p). Per farlo, il modello più adatto risulta
		essere il modello ad Attori:
		<ul>
			<li>
				<b>Modello ad Attori (Message-Driven)</b>: in questo caso, Ping e Pong sono rappresentati
				da Attori, entità dotate di comportamento autonomo, capaci di ricevere e trasmettere messaggi. Gli
				Attori sono inseriti all'interno di un contesto, che ne consente l'interazione con l'esterno.
			</li>

		</ul>
		In ogni caso, per comunicare, le due parti dovranno concordare un coerente formato dei messaggi. Lo scambio di
		messaggi fra le due entità potrebbe essere in modo sincrono (request) o asincrono (forward), in quanto un
		giocatore può aspettarsi o meno una risposta.
	</div>

	<h2><b>Test plans</b></h2>
	<div class="remark">
		I piani di test prevedono la verifica dell'invio dei messaggi da Ping a Pong e viceversa. Sarà necessario
		verificare:
		<ul>
			<li>
				il corretto invio dei messaggi da parte di Ping (risp. Pong).
			</li>
			<li>
				la corretta ricezione dei messaggi da parte di Pong (risp. Ping).
			</li>
			<li>
				il corretto formato dei messaggi.
			</li>
		</ul>
		Qualora si intenda sviluppare un invio di messaggi sincrono (request), diventa necessario prevedere le analoghe
		verifiche anche per le risposte.
	</div>

	<h2><b>Project</b></h2>
	<div class="remark">
		La scelta di progettazione ricade sul <b>Modello ad Attori</b> accennato nella sezione precedente. Inoltre, si
		prevede uno scambio di messaggi asincrono, con gestione opportuna dell'assegnazione della vittoria da parte di
		due entità arbitro.
		Utilizzeremo il linguaggio Qak per l'implementazione di Ping e Pong: in particolare, per rendere
		gli attori vere e proprie entità attive, li implementeremo come <b>Automi a Stati Finiti</b> (FSM):
		<ul>
			<li>Ping e Pong sono realizzati come <b>QActor</b> in due contesti separati: entrambi definiscono
				uno stato iniziale in cui iniziano la rispettiva esecuzione.</li>

			<li>Sono definiti i formati delle richieste e delle risposte che Ping e Pong si scambieranno
				durante l'esecuzione.</li>
		</ul>
		Sulla base di ciò, vediamo la struttura di Ping e Pong:
		<li>
			<b>Ping</b>: <b>QActor ping</b>. L'attore è un FSM atto all'invio di messaggi a Pong:
			nello stato iniziale, si occuperà di inviare una richiesta (messaggio <i>request</i>) a Pong, per comunicare
			l'inizio della partita. Alla
			ricezione di una risposta, effettuerà una transizione verso lo stato <i>handleResponse</i>, per poi iniziare
			la partita vera e propria, iniziando con l'invio di un messaggio forward a Pong. Lo stato
			<i>handleDispatch</i> si occuperà di gestire lo scambio continuo di forward.
		</li>
		<li>
			<b>Pong</b>: <b>QActor pong</b>. L'attore è un FSM atto all'invio di messaggi a Ping:
			nello stato iniziale, si occuperà di attendere la richiesta (messaggio <i>request</i>) di Ping per l'inizio
			della partita, invierà una risposta e resterà in attesa. Lo stato
			<i>handleDispatch</i> si occuperà di gestire lo scambio continuo di forward.

		</li>
		Si prevede inoltre una terza entità arbitro <b>referee</b>, definita in un terzo contesto:
		<li>
			<b>Referee</b>: <b>QActor referee</b>. L'attore è un FSM Observer di Ping e Pong:
			nello stato iniziale, si occuperà di emettere un evento che indichi l'inizio
			della partita a Ping e Pong. Lo stato
			<i>handleUpdate</i> si occuperà di gestire il continuo arrivo di aggiornamenti dalle due entità. L'arbitro
			si occuperà inoltre di gestire la vittoria di uno dei due attori: quando uno di essi segnalerà, con un
			opportuno evento, di aver "mancato" la palla, l'arbitro emetterà un ulteriore evento, contenente l'informazione che
			indica l'attore vincitore.

		</li>
		<ul>

			<h3><b>Files</b></h3>
			<ul>
				<li><a href=../../Sgreccia_ping/src/ping.qak target="Sgreccia_ping">QActor: Ping</a></li>
				<li><a href=../../Sgreccia_pong/src/pong.qak target="Sgreccia_pong">QActor: Pong</a></li>
				<li><a href=../src/referee.qak target="Sgreccia_pong">QActor: Pong</a>

			</ul>
	</div>

	</div>

	<h2><b>Testing</b></h2>
	<div class="remark">Il testing automatizzato è effettuato attraverso JUnit. Dopo aver eseguito il sistema, avviando
		gli attori separatamente, si
		prevede la verifica del conteggio dei messaggi scambiati fra Ping e Pong mediante l'informazione contenuta
		dall'arbitro referee.
	</div>

	<h2>Deployment</h2>
	<div class="remark"> Il deployment avviene mediante Gradle: gli attori possono essere eseguiti separatamente
		attraverso i rispettivi script eseguibili.
	</div>

	<h2>Maintenance</h2>

	<!-- USEFUL
<table style="width:100%" border="1">
<tr>
<td style="width:50%">
</td>
<td></td>
</tr>
</table>
-->

	<br /><br />
	</div>

	<div style="background-color:rgba(86, 56, 253, 0.9); width:60%;text-align:left;color:white;display: flex;">
		By Tommaso Sgreccia - Email Istituzionale: tommaso.sgreccia@studio.unibo.it
		<img src="/home/wheelymcbones/Me/me.jpg" alt="mbot" width="15%" height="15%">
		GIT repo: https://github.com/WheelyMcBones/ISS2024
	</div>
</body>

</html>